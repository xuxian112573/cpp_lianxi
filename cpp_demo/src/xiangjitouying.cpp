#include<iostream>
#include<Eigen/Dense>
#include<math.h>

using namespace std;
using namespace Eigen;

int main()
{
    MatrixXf p(4,4);
    MatrixXf q(4,4);
    MatrixXf m(4,1);
    MatrixXf n(4,1);
    
    p<<1034.428345, 0.000000, 319.562074, 0.000000,
0.000000, 1034.717163, 239.640219, 0.000000,
0.000000, 0.000000, 1.000000, 0.000000,0,0,0,1;

/*1034.428345 0.000000 319.562074 0.000000
0.000000 1034.717163 239.640219 0.000000
0.000000 0.000000 1.000000 0.000000*/    
    
    /*1032.933350 ,0.000000 ,319.064891 ,0.000000,
       0.000000 ,1033.053467 ,239.298718 ,0.000000,
       0.000000 ,0.000000 ,1.000000 ,0.000000,
       0,0,0,1;*/
       /*1035.780640 0.000000 318.747464 0.000000
0.000000 1035.797852 238.851588 0.000000
0.000000 0.000000 1.000000 0.000000*/
/*1033.403076 0.000000 317.788913 0.000000
0.000000 1033.605835 241.088183 0.000000
0.000000 0.000000 1.000000 0.000000*/
    //q<<1,2,3,4,5,6,7,8,9;
    cout<<"投影矩阵p=: \n"<<p<<endl;
    q=p.inverse();
    
    m<<423,395,1,1;
    n=0.1*q*m;
    
    cout<<"投影矩阵的逆矩阵q=: \n"<<q<<endl;
    cout<<"物体坐标为n=: \n"<<n<<endl;
    cout<<"物体坐标为x=: \n"<<n(0,0)<<endl;
    cout<<"物体坐标为y=: \n"<<n(1,0)<<endl;
    return 0;
}
